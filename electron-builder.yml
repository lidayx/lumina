appId: com.lumina.app
productName: Lumina
copyright: Copyright © 2024

directories:
  buildResources: build
  output: dist

files:
  - dist
  - dist-electron
  - package.json
  - 'node_modules/sql.js/dist/sql-wasm.wasm'
  - build/icon.png
  - build/icon.icns
  - build/icon.ico
  - '!src'
  - '!docs'
  - '!*.md'
  - '!*.sh'
  - '!scripts'
  - '!node_modules/*'

mac:
  category: public.app-category.utilities
  target:
    - dmg
    - zip
  icon: build/icon.icns
  hardenedRuntime: true
  entitlements: build/entitlements.mac.plist
  gatekeeperAssess: false

win:
  target:
    - nsis      # 安装包（推荐）：Lumina-Setup-*.exe，需要安装
    - portable  # 便携版（可选）：Lumina-*.exe，可直接运行
  # 临时禁用图标以在 macOS 上构建（需要 Wine 才能使用图标）
  # icon: build/icon.ico
  publisherName: Your Name
  # 在 macOS 上交叉构建 Windows 时跳过签名
  sign: null
  signingHashAlgorithms:
    - sha256
  artifactName: ${name}-Setup-${version}.${ext}  # 仅影响 nsis 安装包的文件名

linux:
  target:
    - AppImage
    - deb
  icon: build/icon.png
  category: Utility
  maintainer: Lumina Team <support@lumina.app>

nsis:
  oneClick: false                    # 非一键安装，显示安装向导
  allowToChangeInstallationDirectory: true  # 允许用户选择安装目录
  createDesktopShortcut: true        # 创建桌面快捷方式
  createStartMenuShortcut: true     # 创建开始菜单快捷方式

appImage:
  artifactName: ${name}-${version}-${arch}.${ext}
