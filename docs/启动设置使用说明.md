# 启动设置使用说明

## 功能概述

Lumina 提供了三个启动相关的设置选项，帮助你自定义应用的启动行为。

---

## 设置项说明

### 1. 开机自启动（autoStart）

**功能：** 系统启动时自动运行 Lumina

**用途：** 如果你希望 Lumina 随系统启动而自动运行，可以开启此选项。

**生效方式：**
- 通过系统的登录项设置
- macOS: 在"系统偏好设置 > 用户与群组 > 登录项"中会显示 Lumina
- Windows/Linux: 添加到自启动项

**注意事项：**
- 需要完全退出并重启应用才能生效
- 开启后，每次系统启动会自动运行 Lumina

---

### 2. 启动时最小化到托盘（minimizeToTray）

**功能：** 启动后自动隐藏到系统托盘

**用途：** 如果你想在后台运行 Lumina，可以开启此选项。窗口会自动隐藏到托盘，你可以通过托盘图标或快捷键来打开。

**生效方式：**
- **需要完全退出并重启应用才能生效**
- 开启后，下次启动时窗口会自动隐藏
- 可以通过全局快捷键 `Shift + Space` 或托盘图标来打开窗口

**当前状态：**
- 如果你开启了此选项，**当前运行的窗口仍然会显示**
- **需要完全退出并重启应用，下次启动时才会生效**

---

### 3. 快速启动（fastStart）

**功能：** 优先从缓存加载数据

**用途：** 
- **开启（默认）：** 启动更快，优先使用缓存的数据
- **关闭：** 每次启动都会重新索引所有数据（确保数据最新，但启动较慢）

**工作原理：**
- **开启时：** 如果数据库中有缓存，直接使用缓存，跳过索引过程
- **关闭时：** 每次启动都会重新扫描应用、文件、书签等数据

**建议：**
- 正常情况下保持开启状态（默认）
- 如果发现搜索结果不准确，可以先关闭快速启动，重启应用后让它重新索引

---

## 常见问题

### Q1: 为什么开启了"启动时最小化到托盘"，窗口还在显示？

**A:** 这是正常的！当前显示的是修改前已经启动的窗口。设置生效需要：
1. 完全退出 Lumina（右键托盘图标 > 退出，或使用 Cmd+Q）
2. 重新启动 Lumina
3. 下次启动时窗口会自动隐藏到托盘

---

### Q2: 快速启动有什么用？

**A:** 
- **开启：** 启动速度快（秒级），从缓存加载之前索引的数据
- **关闭：** 启动速度慢（可能需要几秒到几十秒），但会重新索引所有数据，确保结果最新

大多数情况下保持开启即可。如果你刚安装了大量新应用或书签，可以临时关闭快速启动让应用重新索引。

---

### Q3: 如何验证设置是否生效？

**A:** 
1. 修改设置后，会立即保存到配置文件
2. **需要完全退出并重启应用才能真正生效**
3. 打开控制台查看日志，会显示相应的加载方式：
   - `✓ Lumina 已启动（最小化到托盘）` - minimizeToTray 生效
   - `✅ 快速启动模式：从缓存加载...` - fastStart 生效
   - `🚀 触发完整索引...` - 全量索引模式

---

## 推荐配置

### 常用用户（推荐）
- 开机自启动：✅ 关闭
- 启动时最小化到托盘：✅ 开启
- 快速启动：✅ 开启

**效果：** 
- 手动启动应用时会自动隐藏到托盘
- 启动速度快，使用缓存数据
- 需要时通过 `Shift+Space` 快捷键打开

### 频繁使用用户
- 开机自启动：✅ 开启
- 启动时最小化到托盘：✅ 开启  
- 快速启动：✅ 开启

**效果：**
- 系统启动时自动运行 Lumina
- 窗口自动隐藏到托盘
- 启动速度快

### 开发/调试模式
- 开机自启动：✅ 关闭
- 启动时最小化到托盘：✅ 关闭
- 快速启动：✅ 关闭

**效果：**
- 启动时显示窗口
- 每次都重新索引，确保数据最新
- 便于查看日志和调试

