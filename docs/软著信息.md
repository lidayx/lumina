# Lumina（快搜）软件著作权信息

## 一、开发的硬件环境

通用个人计算机或工作站，具备以下基本配置：
- **处理器**：支持 64 位架构的 CPU（Intel/AMD x64 或 Apple Silicon ARM64）
- **内存**：建议 4GB RAM 及以上（开发时建议 8GB 及以上）
- **存储**：至少 500MB 可用磁盘空间用于开发环境和依赖
- **显示器**：支持 1920×1080 或更高分辨率的显示器

## 二、运行的硬件环境

支持主流桌面操作系统运行的硬件平台：

### macOS 平台
- **处理器**：Intel x64 或 Apple Silicon（M1/M2/M3 等）芯片
- **内存**：建议 4GB RAM 及以上
- **存储**：至少 200MB 可用磁盘空间

### Windows 平台
- **处理器**：支持 x64 架构的 CPU
- **内存**：建议 4GB RAM 及以上
- **存储**：至少 200MB 可用磁盘空间

### Linux 平台
- **处理器**：支持 x64 或 ARM64 架构的 CPU
- **内存**：建议 4GB RAM 及以上
- **存储**：至少 200MB 可用磁盘空间

## 三、开发该软件的操作系统

支持跨平台开发，可在以下任一操作系统上进行开发：
- **macOS**：10.15 (Catalina) 或更高版本
- **Windows**：Windows 10 或更高版本
- **Linux**：主流发行版（Ubuntu、Fedora、Debian 等）

## 四、软件开发环境 / 开发工具

### 核心开发工具
- **Node.js**：18.0.0 或更高版本（JavaScript 运行时环境）
- **npm** 或 **yarn**：包管理工具
- **TypeScript**：5.3.3（类型安全的 JavaScript 超集）
- **Vite**：5.0.8（快速前端构建工具）
- **Electron**：28.1.0（跨平台桌面应用开发框架）

### 构建与打包工具
- **electron-builder**：24.9.1（Electron 应用打包工具）
- **Vite Plugin Electron**：0.28.2（Vite 的 Electron 插件）

### 代码质量工具
- **ESLint**：8.55.0（代码检查工具）
- **Prettier**：3.1.1（代码格式化工具）
- **TypeScript ESLint**：6.14.0（TypeScript 专用 ESLint 规则）

### UI 开发框架
- **React**：18.2.0（用户界面库）
- **Tailwind CSS**：3.3.6（原子化 CSS 框架）
- **PostCSS**：8.4.32（CSS 后处理器）
- **Autoprefixer**：10.4.16（CSS 前缀自动添加工具）

### 版本控制
- **Git**：分布式版本控制系统

## 五、该软件的运行平台 / 操作系统

### 支持的运行平台
- **macOS**：10.15 (Catalina) 或更高版本（支持 Intel 和 Apple Silicon）
- **Windows**：Windows 10 或更高版本（x64 架构）
- **Linux**：主流发行版（Ubuntu、Fedora、Debian 等，支持 x64 和 ARM64）

### 打包格式
- **macOS**：DMG 磁盘镜像、ZIP 压缩包
- **Windows**：NSIS 安装程序（.exe）、便携版（.exe）
- **Linux**：AppImage、DEB 包

## 六、软件运行支撑环境 / 支持软件

### 核心运行时框架
- **Electron 28.1.0**：跨平台桌面应用运行框架
  - Chromium 内核（渲染进程）
  - Node.js 运行时（主进程）

### 前端运行环境
- **React 18.2.0**：用户界面渲染引擎
- **React DOM 18.2.0**：DOM 操作库

### 数据存储
- **SQLite（sql.js 1.13.0）**：浏览器端 SQLite 实现，用于本地数据持久化
- **electron-store 11.0.2**：Electron 应用配置存储库

### 系统依赖（根据平台自动调用）
- **macOS**：
  - Spotlight Search API（应用和文件搜索）
  - 系统原生 API（窗口管理、系统托盘等）
- **Windows**：
  - PowerShell（应用索引）
  - .NET Framework（图标提取）
  - 系统注册表（应用信息）
- **Linux**：
  - .desktop 文件解析（应用索引）
  - locate 命令或系统搜索工具（文件搜索）

### 核心依赖库
- **chokidar 4.0.3**：跨平台文件系统监控库
- **fuse.js 7.0.0**：模糊搜索算法库
- **pinyin 4.0.0**：中文拼音转换库
- **zustand 4.4.7**：轻量级状态管理库

## 七、编程语言

### 主要编程语言
- **TypeScript**：主要开发语言（约 95% 代码量）
  - 类型安全的 JavaScript 超集
  - 编译目标：ES2021
  - 模块系统：ESNext

### 辅助语言
- **JavaScript**：编译后的运行时语言
- **HTML**：用户界面结构标记语言
- **CSS / Tailwind CSS**：样式表语言

### 配置文件
- **JSON**：项目配置（package.json、tsconfig.json 等）
- **YAML**：构建配置（electron-builder.yml）
- **Shell Script**：构建脚本（.sh）

## 八、源程序量

### 源代码统计
- **源代码文件数**：44 个文件
  - TypeScript 文件（.ts）：主进程、服务层、工具函数
  - TypeScript React 文件（.tsx）：渲染进程、UI 组件
  - 配置文件：TypeScript 配置、构建配置等

- **源代码行数**：约 9,800 行代码
  - 主进程代码：约 4,500 行
  - 渲染进程代码：约 2,000 行
  - 服务层代码：约 2,500 行
  - 工具类和类型定义：约 800 行

### 代码结构分布
- **主进程（src/main）**：
  - 应用入口与生命周期管理
  - IPC 处理器（9 个模块）
  - 业务服务（10 个服务模块）
  - 数据库管理
  - 窗口管理
  - 工具函数

- **渲染进程（src/renderer）**：
  - React 组件（主布局、搜索栏、结果列表、设置页）
  - React Hooks（搜索逻辑）
  - 样式文件

- **共享模块（src/shared）**：
  - 类型定义（TypeScript 接口和类型）
  - 工具函数（拼音转换、窗口工具等）
  - 常量配置

- **预加载脚本（src/preload）**：
  - IPC 通信桥接层

## 九、开发目的

### 主要开发目的
开发一款**免费、开源、跨平台的应用程序启动器和搜索工具**，为用户提供快速、便捷的应用搜索、文件查找、网页搜索、书签管理等功能，提升用户的工作效率。

### 具体目标
1. **替代商业软件**：提供 Alfred（macOS）和 uTools（Windows/macOS）的免费开源替代方案
2. **跨平台支持**：实现 macOS、Windows、Linux 三大平台的统一体验
3. **隐私保护**：所有数据和搜索均本地处理，不依赖云端服务
4. **开源透明**：源代码完全开放，用户可自由修改和分发
5. **性能优化**：通过智能索引和缓存机制，实现毫秒级搜索响应
6. **易用性**：提供简洁直观的用户界面，支持全局快捷键快速唤醒

## 十、面向领域 / 行业

### 主要应用领域
- **生产力工具领域**：提升用户日常工作和操作效率
- **桌面应用启动器行业**：快速启动和管理应用程序
- **文件管理系统**：智能文件搜索和定位
- **浏览器辅助工具**：书签管理和网页搜索集成

### 目标用户群体
- **个人用户**：需要快速启动应用、搜索文件的普通用户
- **开发者**：需要高效工具链的技术人员
- **企业用户**：需要统一管理多平台应用的组织机构
- **开源社区**：希望参与和改进开源项目的技术爱好者

### 应用场景
- **应用启动**：通过关键词快速启动已安装的应用
- **文件查找**：在全系统或指定目录中搜索文件和文件夹
- **书签管理**：统一管理多浏览器的收藏夹
- **网页搜索**：快速访问常用搜索引擎
- **系统命令**：执行常用系统命令和脚本
- **数学计算**：快速进行数学表达式计算

## 十一、软件的主要功能

### 1. 应用搜索与启动功能
- **智能索引**：利用系统原生 API（Spotlight、Start Menu、.desktop）自动索引所有已安装应用
- **模糊搜索**：支持应用名称、拼音、首字母等多种搜索方式
- **图标提取**：自动提取并优化应用图标（自动压缩大于 50KB 的大图标）
- **使用统计**：记录应用使用频率，智能排序搜索结果
- **一键启动**：支持 Enter 键快速启动，支持快捷键操作

### 2. 文件搜索功能
- **系统原生搜索**：调用 Spotlight（macOS）、Everything API（Windows）、locate（Linux）实现实时搜索
- **路径配置**：支持自定义搜索路径和范围
- **实时索引**：无需预索引，直接调用系统搜索 API
- **文件操作**：支持文件和文件夹的打开操作

### 3. 网页搜索功能
- **多引擎支持**：内置百度、谷歌、必应、DuckDuckGo 等主流搜索引擎
- **自定义引擎**：支持用户添加、编辑、删除、排序搜索引擎
- **历史记录**：追踪常用网站访问历史
- **快速切换**：支持快捷键快速切换搜索引擎
- **URL 识别**：自动识别输入网址并生成浏览器打开选项

### 4. 书签管理功能
- **多浏览器支持**：自动检测并加载 Chrome、Safari、Firefox、Edge、Brave 等主流浏览器的书签
- **多配置文件**：支持浏览器多用户配置文件自动识别和加载
- **实时同步**：通过文件监控（chokidar）实时检测书签文件变化并自动更新
- **智能搜索**：支持书签标题和 URL 的模糊搜索
- **拼音支持**：支持中文书签的拼音搜索

### 5. 计算器功能
- **实时计算**：输入数学表达式即可实时显示结果
- **功能丰富**：支持基本运算、三角函数、对数、幂运算等
- **单位转换**：支持常用单位转换功能
- **无需确认**：输入即计算，无需额外操作

### 6. 命令执行功能
- **系统命令**：支持执行系统命令和脚本
- **历史记录**：保存命令执行历史，方便重复使用
- **快速执行**：支持常用命令的快速调用

### 7. 个性化设置功能
- **搜索引擎管理**：添加、编辑、删除、排序搜索引擎，设置默认引擎
- **浏览器配置**：配置默认浏览器和多个备用浏览器
- **文件搜索配置**：自定义搜索路径、启用/禁用文件搜索
- **启动选项**：开机自启动、最小化到托盘、快速启动模式
- **性能优化**：智能缓存机制，首次完整索引 vs 缓存快速启动

### 8. 用户体验功能
- **全局快捷键**：默认 `Shift + Space` 唤醒主窗口，支持自定义
- **智能窗口**：自动调整窗口大小和位置，居中显示
- **系统托盘**：后台常驻运行，可从托盘快速访问
- **单实例运行**：防止重复启动，自动激活已运行实例
- **现代化 UI**：基于 React 和 Tailwind CSS 的流畅界面，支持暗色主题
- **响应式设计**：适配不同屏幕尺寸和分辨率

### 9. 数据持久化功能
- **SQLite 数据库**：使用 sql.js 实现本地数据库存储
- **应用缓存**：缓存应用索引信息，提升启动速度
- **用户配置**：持久化保存用户设置和偏好
- **历史记录**：保存搜索历史、命令历史、网页访问历史

### 10. 性能优化功能
- **智能索引**：首次完整索引，后续增量更新
- **定期刷新**：默认每 10 分钟自动刷新索引
- **关键词预计算**：预计算拼音和搜索关键词，加速搜索
- **批量操作**：批量处理应用索引和文件扫描
- **防抖搜索**：搜索输入防抖，减少不必要的计算
- **评分算法**：多维度搜索结果排序（匹配度、使用频率、名称长度）

## 十二、软件的技术特点

### 1. 跨平台架构设计
- **Electron 框架**：基于 Chromium 和 Node.js，实现一次开发多平台运行
- **平台适配层**：针对 macOS、Windows、Linux 分别实现系统 API 调用
- **统一接口设计**：通过抽象层屏蔽平台差异，提供统一的业务接口

### 2. 模块化架构
- **主进程/渲染进程分离**：严格遵循 Electron 的进程架构，确保安全性
- **服务化设计**：将业务逻辑封装为独立服务模块（应用服务、文件服务、书签服务等）
- **IPC 通信机制**：通过 IPC（Inter-Process Communication）实现主进程与渲染进程的安全通信
- **预加载脚本**：通过 contextBridge 安全暴露 API，防止直接访问 Node.js 原语

### 3. 性能优化技术
- **智能缓存机制**：
  - SQLite 数据库持久化缓存
  - 内存缓存加速搜索
  - 首次完整索引 vs 缓存快速启动
- **异步非阻塞**：所有耗时操作采用异步处理，不阻塞 UI 线程
- **关键词预计算**：启动时预计算拼音和搜索关键词，加速搜索响应
- **批量操作优化**：批量处理应用索引、文件扫描，减少系统调用
- **防抖和节流**：搜索输入防抖，定期索引节流，避免资源浪费

### 4. 搜索算法技术
- **模糊搜索算法**：基于 Fuse.js 实现智能模糊匹配
- **拼音支持**：集成 pinyin 库实现中文拼音搜索
- **多维度评分**：综合匹配度、使用频率、名称长度等因素进行结果排序
- **首字母搜索**：支持应用名称首字母快速匹配

### 5. 数据存储技术
- **SQLite 数据库**：使用 sql.js 实现浏览器端 SQLite，无需服务器
- **electron-store**：轻量级配置存储，支持 JSON 序列化
- **文件监控**：使用 chokidar 实时监控书签文件变化
- **数据迁移**：支持数据库版本升级和数据迁移

### 6. 用户界面技术
- **React 18**：采用最新的 React 特性（Hooks、Suspense 等）
- **Tailwind CSS**：原子化 CSS 框架，快速构建现代化界面
- **响应式设计**：适配不同屏幕尺寸
- **流畅动画**：CSS 过渡和动画效果，提升用户体验

### 7. 系统集成技术
- **macOS 集成**：
  - Spotlight Search API 调用
  - 系统托盘菜单
  - 全局快捷键注册
  - 应用图标提取
- **Windows 集成**：
  - PowerShell 脚本执行
  - .NET Framework 图标提取
  - 注册表读取
  - 系统托盘支持
- **Linux 集成**：
  - .desktop 文件解析
  - locate 命令调用
  - 系统托盘支持

### 8. 安全与稳定性
- **单实例运行**：使用 app.requestSingleInstanceLock() 防止重复启动
- **错误处理**：完善的异常捕获和错误日志记录
- **资源清理**：应用退出时自动清理全局快捷键、停止索引服务、销毁托盘
- **调试日志**：开发模式下的详细日志输出，便于问题定位

### 9. 构建与打包技术
- **Vite 构建**：使用 Vite 实现极速的开发和构建体验
- **electron-builder**：跨平台打包，支持多种安装包格式
- **代码分割**：按需加载，减小应用体积
- **资源优化**：图标压缩、代码压缩、Tree Shaking

### 10. 开发体验优化
- **TypeScript 类型系统**：完整的类型定义，提升代码可维护性
- **ESLint + Prettier**：统一的代码风格和质量检查
- **热重载**：开发模式下支持代码热更新
- **模块化配置**：TypeScript 路径别名，简化导入路径

---

## 附录：技术栈汇总

### 核心技术栈
- **Electron 28.1.0** - 跨平台桌面应用框架
- **React 18.2.0** - 用户界面库
- **TypeScript 5.3.3** - 类型安全的编程语言
- **Vite 5.0.8** - 前端构建工具
- **SQLite (sql.js 1.13.0)** - 本地数据库

### 开发工具栈
- **Node.js 18+** - JavaScript 运行时
- **npm / yarn** - 包管理工具
- **electron-builder 24.9.1** - 应用打包工具
- **ESLint 8.55.0** - 代码检查
- **Prettier 3.1.1** - 代码格式化

### UI 框架
- **Tailwind CSS 3.3.6** - CSS 框架
- **PostCSS 8.4.32** - CSS 后处理器

### 核心依赖库
- **fuse.js 7.0.0** - 模糊搜索
- **pinyin 4.0.0** - 拼音转换
- **chokidar 4.0.3** - 文件监控
- **zustand 4.4.7** - 状态管理
- **electron-store 11.0.2** - 配置存储

---

**文档生成日期**：2024年
**软件版本**：1.1.1
**软件名称**：Lumina（快搜）

