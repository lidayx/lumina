# åŠŸèƒ½æ¨¡å—æ‹†åˆ†é‡æ„æ–¹æ¡ˆ

## ğŸ“‹ æ¦‚è¿°

å½“å‰ç³»ç»Ÿä¸­ï¼Œå¤šä¸ªåŠŸèƒ½æ¨¡å—ï¼ˆç¼–ç è§£ç ã€å­—ç¬¦ä¸²å·¥å…·ã€éšæœºæ•°ç”Ÿæˆã€æ—¶é—´å·¥å…·ã€ç¿»è¯‘ã€å˜é‡åç”Ÿæˆï¼‰è™½ç„¶å·²ç»å®ç°äº†ç‹¬ç«‹çš„æœåŠ¡ç±»ï¼Œä½†éƒ½é€šè¿‡ `calculatorService` ä½œä¸ºä¸­å¤®è°ƒåº¦å™¨æ¥è°ƒç”¨ã€‚è¿™ç§è®¾è®¡å­˜åœ¨ä»¥ä¸‹é—®é¢˜ï¼š

1. **èŒè´£ä¸æ¸…**ï¼šè®¡ç®—å™¨æœåŠ¡æ‰¿æ‹…äº†è¿‡å¤šéè®¡ç®—ç›¸å…³çš„åŠŸèƒ½è°ƒåº¦
2. **è€¦åˆåº¦é«˜**ï¼šåŠŸèƒ½æ¨¡å—ä¸è®¡ç®—å™¨æœåŠ¡å¼ºè€¦åˆï¼Œä¸åˆ©äºç‹¬ç«‹æ‰©å±•
3. **ç»´æŠ¤å›°éš¾**ï¼šæ–°å¢åŠŸèƒ½éœ€è¦ä¿®æ”¹è®¡ç®—å™¨æœåŠ¡ï¼Œè¿åå¼€é—­åŸåˆ™
4. **æ€§èƒ½å½±å“**ï¼šæ‰€æœ‰åŠŸèƒ½æŸ¥è¯¢éƒ½è¦ç»è¿‡è®¡ç®—å™¨æœåŠ¡çš„åˆ¤æ–­æµç¨‹

## ğŸ¯ é‡æ„ç›®æ ‡

å°†ä»¥ä¸‹åŠŸèƒ½æ¨¡å—ä»è®¡ç®—å™¨æœåŠ¡ä¸­å®Œå…¨æ‹†åˆ†ï¼Œæˆä¸ºç‹¬ç«‹çš„æ¨¡å—ï¼š

1. **ç¼–ç è§£ç æ¨¡å—** (`encodeService`)
   - URL ç¼–ç /è§£ç 
   - HTML ç¼–ç /è§£ç 
   - Base64 ç¼–ç /è§£ç 
   - MD5 åŠ å¯†

2. **å­—ç¬¦ä¸²å·¥å…·æ¨¡å—** (`stringService`)
   - å¤§å°å†™è½¬æ¢
   - å­—ç¬¦ä¸²æ ¼å¼åŒ–ï¼ˆé©¼å³°ã€è›‡å½¢ã€å¸•æ–¯å¡ï¼‰
   - å­—ç¬¦ä¸²æ“ä½œï¼ˆåè½¬ã€å»é™¤ç©ºæ ¼ã€ç»Ÿè®¡ã€æ›¿æ¢ã€æå–ï¼‰

3. **éšæœºæ•°ç”Ÿæˆæ¨¡å—** (`randomService`)
   - UUID ç”Ÿæˆ
   - éšæœºå­—ç¬¦ä¸²
   - éšæœºæ•°å­—
   - å¯†ç ç”Ÿæˆ

4. **æ—¶é—´å·¥å…·æ¨¡å—** (`timeService`)
   - æ—¶é—´æˆ³è½¬æ¢
   - æ—¥æœŸæ ¼å¼åŒ–
   - æ—¶åŒºè½¬æ¢
   - æ—¶é—´è®¡ç®—

5. **ç¿»è¯‘æ¨¡å—** (`translateService`)
   - å¤šè¯­è¨€ç¿»è¯‘
   - ç¿»è¯‘å†å²

6. **å˜é‡åç”Ÿæˆæ¨¡å—** (`variableNameService`)
   - å˜é‡åæ ¼å¼è½¬æ¢
   - å‘½åé£æ ¼è½¬æ¢

## ğŸ“ å½“å‰æ¶æ„åˆ†æ

### å½“å‰è°ƒç”¨é“¾

```
MainLayout.tsx
  â””â”€> calculatorHandlers.ts (IPC)
       â””â”€> calculatorService.calculate()
            â”œâ”€> encodeService.handleEncodeQuery()
            â”œâ”€> stringService.handleStringQuery()
            â”œâ”€> randomService.handleRandomQuery()
            â”œâ”€> timeService.handleTimeQuery()
            â””â”€> translateService.handleTranslateQuery() (åœ¨ handler ä¸­)
            â””â”€> variableNameService.handleVariableNameQuery() (åœ¨ handler ä¸­)
```

### é—®é¢˜ç‚¹

1. **calculatorService.ts** ä¸­åŒ…å«äº†å¤§é‡éè®¡ç®—é€»è¾‘
2. **calculatorHandlers.ts** ä¸­æ··åˆäº†ç¿»è¯‘å’Œå˜é‡åç”Ÿæˆçš„é€»è¾‘
3. å‰ç«¯ `MainLayout.tsx` ä¸­é€šè¿‡ `calculator-calculate` IPC è°ƒç”¨æ‰€æœ‰åŠŸèƒ½
4. åŠŸèƒ½å¼€å…³æ£€æŸ¥åˆ†æ•£åœ¨å„ä¸ªæœåŠ¡ä¸­ï¼Œä½†è°ƒç”¨å…¥å£åœ¨è®¡ç®—å™¨

## ğŸ—ï¸ ç›®æ ‡æ¶æ„

### æ–°çš„è°ƒç”¨é“¾

```
MainLayout.tsx
  â”œâ”€> encodeHandlers.ts (IPC) â”€â”€> encodeService
  â”œâ”€> stringHandlers.ts (IPC) â”€â”€> stringService
  â”œâ”€> randomHandlers.ts (IPC) â”€â”€> randomService
  â”œâ”€> timeHandlers.ts (IPC) â”€â”€> timeService
  â”œâ”€> translateHandlers.ts (IPC) â”€â”€> translateService
  â”œâ”€> variableNameHandlers.ts (IPC) â”€â”€> variableNameService
  â””â”€> calculatorHandlers.ts (IPC) â”€â”€> calculatorService (ä»…æ•°å­¦è®¡ç®—)
```

### æ¶æ„ä¼˜åŠ¿

1. **èŒè´£æ¸…æ™°**ï¼šæ¯ä¸ªæ¨¡å—ç‹¬ç«‹å¤„ç†è‡ªå·±çš„æŸ¥è¯¢
2. **ä½è€¦åˆ**ï¼šæ¨¡å—ä¹‹é—´äº’ä¸ä¾èµ–
3. **æ˜“æ‰©å±•**ï¼šæ–°å¢åŠŸèƒ½åªéœ€æ·»åŠ æ–°çš„ handler å’ŒæœåŠ¡
4. **æ€§èƒ½ä¼˜åŒ–**ï¼šå‰ç«¯å¯ä»¥ç›´æ¥è°ƒç”¨å¯¹åº”æ¨¡å—ï¼Œå‡å°‘ä¸­é—´å±‚

## ğŸ“ è¯¦ç»†å®æ–½è®¡åˆ’

### é˜¶æ®µä¸€ï¼šåˆ›å»ºç‹¬ç«‹çš„ IPC Handlers

#### 1.1 åˆ›å»º `encodeHandlers.ts`

**æ–‡ä»¶è·¯å¾„**ï¼š`src/main/handlers/encodeHandlers.ts`

**åŠŸèƒ½**ï¼š
- `encode-handle-query`: å¤„ç†ç¼–ç è§£ç æŸ¥è¯¢
- `encode-complete`: è¡¥å…¨åŠŸèƒ½ï¼ˆå·²å­˜åœ¨ï¼Œéœ€ç¡®è®¤ï¼‰
- `encode-help`: å¸®åŠ©ä¿¡æ¯ï¼ˆå·²å­˜åœ¨ï¼Œéœ€ç¡®è®¤ï¼‰

**å®ç°è¦ç‚¹**ï¼š
```typescript
import { ipcMain } from 'electron';
import { encodeService } from '../services/encodeService';

export function registerEncodeHandlers() {
  // å¤„ç†ç¼–ç è§£ç æŸ¥è¯¢
  ipcMain.handle('encode-handle-query', async (_event, query: string) => {
    try {
      const result = encodeService.handleEncodeQuery(query);
      if (result) {
        return {
          input: result.input,
          output: result.output,
          success: result.success,
          error: result.error,
        };
      }
      return null;
    } catch (error) {
      console.error('ç¼–ç è§£ç å¤„ç†å¤±è´¥:', error);
      return null;
    }
  });
}
```

#### 1.2 åˆ›å»º `stringHandlers.ts`

**æ–‡ä»¶è·¯å¾„**ï¼š`src/main/handlers/stringHandlers.ts`

**åŠŸèƒ½**ï¼š
- `string-handle-query`: å¤„ç†å­—ç¬¦ä¸²å·¥å…·æŸ¥è¯¢
- `string-complete`: è¡¥å…¨åŠŸèƒ½ï¼ˆå·²å­˜åœ¨ï¼‰
- `string-help`: å¸®åŠ©ä¿¡æ¯ï¼ˆå·²å­˜åœ¨ï¼‰

#### 1.3 åˆ›å»º `randomHandlers.ts`

**æ–‡ä»¶è·¯å¾„**ï¼š`src/main/handlers/randomHandlers.ts`

**åŠŸèƒ½**ï¼š
- `random-handle-query`: å¤„ç†éšæœºæ•°ç”ŸæˆæŸ¥è¯¢
- `random-complete`: è¡¥å…¨åŠŸèƒ½ï¼ˆå·²å­˜åœ¨ï¼‰
- `random-help`: å¸®åŠ©ä¿¡æ¯ï¼ˆå·²å­˜åœ¨ï¼‰

#### 1.4 åˆ›å»º `timeHandlers.ts`

**æ–‡ä»¶è·¯å¾„**ï¼š`src/main/handlers/timeHandlers.ts`

**åŠŸèƒ½**ï¼š
- `time-handle-query`: å¤„ç†æ—¶é—´å·¥å…·æŸ¥è¯¢
- `time-complete`: è¡¥å…¨åŠŸèƒ½ï¼ˆå·²å­˜åœ¨ï¼‰
- `time-help`: å¸®åŠ©ä¿¡æ¯ï¼ˆå·²å­˜åœ¨ï¼‰

#### 1.5 åˆ›å»º `translateHandlers.ts`

**æ–‡ä»¶è·¯å¾„**ï¼š`src/main/handlers/translateHandlers.ts`

**åŠŸèƒ½**ï¼š
- `translate-handle-query`: å¤„ç†ç¿»è¯‘æŸ¥è¯¢ï¼ˆä» calculatorHandlers è¿ç§»ï¼‰
- `translate-complete`: è¡¥å…¨åŠŸèƒ½ï¼ˆå·²å­˜åœ¨ï¼‰
- `translate-help`: å¸®åŠ©ä¿¡æ¯ï¼ˆå·²å­˜åœ¨ï¼‰

#### 1.6 åˆ›å»º `variableNameHandlers.ts`

**æ–‡ä»¶è·¯å¾„**ï¼š`src/main/handlers/variableNameHandlers.ts`

**åŠŸèƒ½**ï¼š
- `varname-handle-query`: å¤„ç†å˜é‡åç”ŸæˆæŸ¥è¯¢ï¼ˆä» calculatorHandlers è¿ç§»ï¼‰
- `varname-complete`: è¡¥å…¨åŠŸèƒ½ï¼ˆå·²å­˜åœ¨ï¼‰
- `varname-help`: å¸®åŠ©ä¿¡æ¯ï¼ˆå·²å­˜åœ¨ï¼‰

### é˜¶æ®µäºŒï¼šæ›´æ–°ä¸»è¿›ç¨‹å…¥å£

#### 2.1 ä¿®æ”¹ `src/main/index.ts`

**éœ€è¦æ·»åŠ çš„å¯¼å…¥**ï¼š
```typescript
import { registerEncodeHandlers } from './handlers/encodeHandlers';
import { registerStringHandlers } from './handlers/stringHandlers';
import { registerRandomHandlers } from './handlers/randomHandlers';
import { registerTimeHandlers } from './handlers/timeHandlers';
import { registerTranslateHandlers } from './handlers/translateHandlers';
import { registerVariableNameHandlers } from './handlers/variableNameHandlers';
```

**éœ€è¦æ³¨å†Œçš„ handlers**ï¼š
```typescript
// åœ¨ app.whenReady() ä¸­æ³¨å†Œ
registerEncodeHandlers();
registerStringHandlers();
registerRandomHandlers();
registerTimeHandlers();
registerTranslateHandlers();
registerVariableNameHandlers();
```

### é˜¶æ®µä¸‰ï¼šæ¸…ç† calculatorService

#### 3.1 ç§»é™¤éè®¡ç®—ç›¸å…³çš„è°ƒç”¨

**éœ€è¦ä» `calculatorService.ts` ä¸­ç§»é™¤**ï¼š
- `encodeService.handleEncodeQuery()` è°ƒç”¨
- `stringService.handleStringQuery()` è°ƒç”¨
- `randomService.handleRandomQuery()` è°ƒç”¨
- `timeService.handleTimeQuery()` è°ƒç”¨

**ä¿ç•™çš„åŠŸèƒ½**ï¼š
- çº¯æ•°å­—å¤„ç†
- æ•°å­¦è¡¨è¾¾å¼è®¡ç®—
- å•ä½æ¢ç®—
- ç§‘å­¦å‡½æ•°è®¡ç®—

#### 3.2 æ¸…ç† calculatorHandlers

**éœ€è¦ä» `calculatorHandlers.ts` ä¸­ç§»é™¤**ï¼š
- `translateService.handleTranslateQuery()` è°ƒç”¨
- `variableNameService.handleVariableNameQuery()` è°ƒç”¨

**ä¿ç•™çš„åŠŸèƒ½**ï¼š
- ä»…å¤„ç†æ•°å­¦è®¡ç®—ç›¸å…³çš„æŸ¥è¯¢

### é˜¶æ®µå››ï¼šæ›´æ–°å‰ç«¯è°ƒç”¨

#### 4.1 æ›´æ–° `preload/index.ts`

**éœ€è¦æ·»åŠ çš„ IPC æ¥å£**ï¼š
```typescript
encode: {
  handleQuery: (query: string) => ipcRenderer.invoke('encode-handle-query', query),
  complete: (partial: string) => ipcRenderer.invoke('encode-complete', partial),
  help: () => ipcRenderer.invoke('encode-help'),
},
string: {
  handleQuery: (query: string) => ipcRenderer.invoke('string-handle-query', query),
  complete: (partial: string) => ipcRenderer.invoke('string-complete', partial),
  help: () => ipcRenderer.invoke('string-help'),
},
random: {
  handleQuery: (query: string) => ipcRenderer.invoke('random-handle-query', query),
  complete: (partial: string) => ipcRenderer.invoke('random-complete', partial),
  help: () => ipcRenderer.invoke('random-help'),
},
time: {
  handleQuery: (query: string) => ipcRenderer.invoke('time-handle-query', query),
  complete: (partial: string) => ipcRenderer.invoke('time-complete', partial),
  help: () => ipcRenderer.invoke('time-help'),
},
translate: {
  handleQuery: (query: string) => ipcRenderer.invoke('translate-handle-query', query),
  complete: (partial: string) => ipcRenderer.invoke('translate-complete', partial),
  help: () => ipcRenderer.invoke('translate-help'),
},
varname: {
  handleQuery: (query: string) => ipcRenderer.invoke('varname-handle-query', query),
  complete: (partial: string) => ipcRenderer.invoke('varname-complete', partial),
  help: () => ipcRenderer.invoke('varname-help'),
},
```

#### 4.2 æ›´æ–° `MainLayout.tsx`

**éœ€è¦ä¿®æ”¹çš„æŸ¥è¯¢å¤„ç†é€»è¾‘**ï¼š

**å½“å‰é€»è¾‘**ï¼ˆåœ¨ `searchAll` å‡½æ•°ä¸­ï¼‰ï¼š
```typescript
// å½“å‰ï¼šæ‰€æœ‰åŠŸèƒ½éƒ½é€šè¿‡ calculator-calculate è°ƒç”¨
const calcResult = await window.electron.calculator.calculate(actualQuery);
```

**æ–°é€»è¾‘**ï¼š
```typescript
// æ–°é€»è¾‘ï¼šæŒ‰ä¼˜å…ˆçº§ä¾æ¬¡å°è¯•å„ä¸ªæ¨¡å—
let utilityResult = null;

// 1. å°è¯•ç¼–ç è§£ç 
if (!utilityResult) {
  utilityResult = await window.electron.encode.handleQuery(actualQuery).catch(() => null);
}

// 2. å°è¯•å­—ç¬¦ä¸²å·¥å…·
if (!utilityResult) {
  utilityResult = await window.electron.string.handleQuery(actualQuery).catch(() => null);
}

// 3. å°è¯•éšæœºæ•°ç”Ÿæˆ
if (!utilityResult) {
  utilityResult = await window.electron.random.handleQuery(actualQuery).catch(() => null);
}

// 4. å°è¯•æ—¶é—´å·¥å…·
if (!utilityResult) {
  utilityResult = await window.electron.time.handleQuery(actualQuery).catch(() => null);
}

// 5. å°è¯•ç¿»è¯‘ï¼ˆå¼‚æ­¥ï¼‰
if (!utilityResult) {
  utilityResult = await window.electron.translate.handleQuery(actualQuery).catch(() => null);
}

// 6. å°è¯•å˜é‡åç”Ÿæˆï¼ˆå¼‚æ­¥ï¼‰
if (!utilityResult) {
  utilityResult = await window.electron.varname.handleQuery(actualQuery).catch(() => null);
}

// 7. æœ€åå°è¯•æ•°å­¦è®¡ç®—
if (!utilityResult) {
  utilityResult = await window.electron.calculator.calculate(actualQuery).catch(() => null);
}
```

**ä¼˜åŒ–å»ºè®®**ï¼šå¯ä»¥ä½¿ç”¨ Promise.race æˆ–å¹¶è¡Œè°ƒç”¨ï¼Œä½†éœ€è¦æ³¨æ„ä¼˜å…ˆçº§ã€‚

### é˜¶æ®µäº”ï¼šæ›´æ–°å…³é”®è¯æ£€æµ‹é€»è¾‘

#### 5.1 æ›´æ–° `MainLayout.tsx` ä¸­çš„å…³é”®è¯æ£€æµ‹

**å½“å‰é€»è¾‘**ï¼šåœ¨ `isCalculation` ä¸­æ£€æµ‹æ‰€æœ‰åŠŸèƒ½å…³é”®è¯

**æ–°é€»è¾‘**ï¼šåˆ†åˆ«æ£€æµ‹å„ä¸ªæ¨¡å—çš„å…³é”®è¯ï¼Œç”¨äºï¼š
1. å†³å®šè°ƒç”¨å“ªä¸ªæ¨¡å—çš„ `handleQuery`
2. å†³å®šæ˜¾ç¤ºå“ªä¸ªæ¨¡å—çš„è¡¥å…¨å»ºè®®

**ç¤ºä¾‹**ï¼š
```typescript
// ç¼–ç è§£ç å…³é”®è¯æ£€æµ‹
const isEncodeKeyword = /^(?:url|html|base64|md5|encode|decode|ç¼–ç |è§£ç |bianma|jiema)/i.test(queryTrimmed);

// å­—ç¬¦ä¸²å·¥å…·å…³é”®è¯æ£€æµ‹
const isStringKeyword = /^(?:uppercase|lowercase|å¤§å†™|å°å†™|title|camel|snake|reverse|åè½¬|trim|count|ç»Ÿè®¡|replace|extract)/i.test(queryTrimmed);

// éšæœºæ•°ç”Ÿæˆå…³é”®è¯æ£€æµ‹
const isRandomKeyword = /^(?:pwd|password|å¯†ç |uuid|random)/i.test(queryTrimmed);

// æ—¶é—´å·¥å…·å…³é”®è¯æ£€æµ‹
const isTimeKeyword = /^(?:time|æ—¶é—´|timestamp|date|æ—¥æœŸ)/i.test(queryTrimmed);

// ç¿»è¯‘å…³é”®è¯æ£€æµ‹
const isTranslateKeyword = /^(?:translate|ç¿»è¯‘|fanyi|fy|en|zh|cn)/i.test(queryTrimmed);

// å˜é‡åç”Ÿæˆå…³é”®è¯æ£€æµ‹
const isVarnameKeyword = /^(?:varname|å˜é‡å|camel|snake|pascal)/i.test(queryTrimmed);
```

## ğŸ“Š æ–‡ä»¶å˜æ›´æ¸…å•

### æ–°å¢æ–‡ä»¶

1. `src/main/handlers/encodeHandlers.ts` - ç¼–ç è§£ç  IPC handlers
2. `src/main/handlers/stringHandlers.ts` - å­—ç¬¦ä¸²å·¥å…· IPC handlers
3. `src/main/handlers/randomHandlers.ts` - éšæœºæ•°ç”Ÿæˆ IPC handlers
4. `src/main/handlers/timeHandlers.ts` - æ—¶é—´å·¥å…· IPC handlers
5. `src/main/handlers/translateHandlers.ts` - ç¿»è¯‘ IPC handlers
6. `src/main/handlers/variableNameHandlers.ts` - å˜é‡åç”Ÿæˆ IPC handlers

### ä¿®æ”¹æ–‡ä»¶

1. `src/main/index.ts` - æ³¨å†Œæ–°çš„ handlers
2. `src/main/services/calculatorService.ts` - ç§»é™¤éè®¡ç®—ç›¸å…³çš„è°ƒç”¨
3. `src/main/handlers/calculatorHandlers.ts` - ç§»é™¤ç¿»è¯‘å’Œå˜é‡åç”Ÿæˆé€»è¾‘
4. `src/preload/index.ts` - æ·»åŠ æ–°çš„ IPC æ¥å£
5. `src/renderer/components/MainLayout.tsx` - æ›´æ–°æŸ¥è¯¢å¤„ç†é€»è¾‘å’Œå…³é”®è¯æ£€æµ‹

### ä¿æŒä¸å˜çš„æ–‡ä»¶

1. `src/main/services/encodeService.ts` - æœåŠ¡é€»è¾‘ä¸å˜
2. `src/main/services/stringService.ts` - æœåŠ¡é€»è¾‘ä¸å˜
3. `src/main/services/randomService.ts` - æœåŠ¡é€»è¾‘ä¸å˜
4. `src/main/services/timeService.ts` - æœåŠ¡é€»è¾‘ä¸å˜
5. `src/main/services/translateService.ts` - æœåŠ¡é€»è¾‘ä¸å˜
6. `src/main/services/variableNameService.ts` - æœåŠ¡é€»è¾‘ä¸å˜
7. `src/main/handlers/featureCompletionHandlers.ts` - è¡¥å…¨ handlers ä¿æŒä¸å˜

## âš ï¸ æ³¨æ„äº‹é¡¹

### 1. å‘åå…¼å®¹æ€§

- ç¡®ä¿æ‰€æœ‰ç°æœ‰åŠŸèƒ½åœ¨é‡æ„åä»ç„¶æ­£å¸¸å·¥ä½œ
- ä¿æŒç»“æœæ ¼å¼ä¸€è‡´ï¼Œé¿å…å‰ç«¯æ˜¾ç¤ºé€»è¾‘éœ€è¦å¤§å¹…ä¿®æ”¹

### 2. æ€§èƒ½è€ƒè™‘

- å¹¶è¡Œè°ƒç”¨å¤šä¸ªæ¨¡å—å¯èƒ½æé«˜æ€§èƒ½ï¼Œä½†éœ€è¦æ³¨æ„ï¼š
  - æ¯ä¸ªæ¨¡å—éƒ½æœ‰è‡ªå·±çš„åŠŸèƒ½å¼€å…³æ£€æŸ¥
  - é¿å…ä¸å¿…è¦çš„è®¡ç®—å¼€é”€
  - è€ƒè™‘ä½¿ç”¨çŸ­è·¯é€»è¾‘ï¼ˆç¬¬ä¸€ä¸ªåŒ¹é…å°±è¿”å›ï¼‰

### 3. é”™è¯¯å¤„ç†

- æ¯ä¸ª handler éƒ½åº”è¯¥æœ‰å®Œå–„çš„é”™è¯¯å¤„ç†
- è¿”å› `null` è¡¨ç¤ºæ— æ³•å¤„ç†è¯¥æŸ¥è¯¢ï¼Œè®©ç³»ç»Ÿç»§ç»­å°è¯•å…¶ä»–æ¨¡å—

### 4. åŠŸèƒ½å¼€å…³

- æ¯ä¸ªæ¨¡å—å†…éƒ¨å·²ç»æ£€æŸ¥äº†åŠŸèƒ½å¼€å…³
- å‰ç«¯å¯ä»¥æ ¹æ®åŠŸèƒ½å¼€å…³çŠ¶æ€å†³å®šæ˜¯å¦è°ƒç”¨å¯¹åº”æ¨¡å—

### 5. æµ‹è¯•å»ºè®®

- å•å…ƒæµ‹è¯•ï¼šæµ‹è¯•æ¯ä¸ª handler çš„ç‹¬ç«‹åŠŸèƒ½
- é›†æˆæµ‹è¯•ï¼šæµ‹è¯•å‰ç«¯åˆ°åç«¯çš„å®Œæ•´è°ƒç”¨é“¾
- å›å½’æµ‹è¯•ï¼šç¡®ä¿æ‰€æœ‰ç°æœ‰åŠŸèƒ½ä»ç„¶æ­£å¸¸å·¥ä½œ

## ğŸš€ å®æ–½æ­¥éª¤å»ºè®®

### ç¬¬ä¸€æ­¥ï¼šåˆ›å»º handlersï¼ˆä½é£é™©ï¼‰

1. åˆ›å»ºæ‰€æœ‰æ–°çš„ handler æ–‡ä»¶
2. åœ¨ `index.ts` ä¸­æ³¨å†Œ handlers
3. åœ¨ `preload/index.ts` ä¸­æš´éœ² IPC æ¥å£
4. **ä¸ä¿®æ”¹ç°æœ‰è°ƒç”¨é€»è¾‘**ï¼Œç¡®ä¿å‘åå…¼å®¹

### ç¬¬äºŒæ­¥ï¼šå‰ç«¯å¹¶è¡Œè°ƒç”¨ï¼ˆä¸­é£é™©ï¼‰

1. åœ¨ `MainLayout.tsx` ä¸­æ·»åŠ æ–°çš„è°ƒç”¨é€»è¾‘
2. ä¿ç•™æ—§çš„ `calculator-calculate` è°ƒç”¨ä½œä¸ºåå¤‡
3. é€æ­¥è¿ç§»å„ä¸ªåŠŸèƒ½æ¨¡å—

### ç¬¬ä¸‰æ­¥ï¼šæ¸…ç†æ—§ä»£ç ï¼ˆé«˜é£é™©ï¼‰

1. ä» `calculatorService` ä¸­ç§»é™¤éè®¡ç®—ç›¸å…³çš„è°ƒç”¨
2. ä» `calculatorHandlers` ä¸­ç§»é™¤ç¿»è¯‘å’Œå˜é‡åç”Ÿæˆé€»è¾‘
3. ç§»é™¤å‰ç«¯çš„åå¤‡è°ƒç”¨é€»è¾‘

### ç¬¬å››æ­¥ï¼šæµ‹è¯•å’Œä¼˜åŒ–

1. å…¨é¢æµ‹è¯•æ‰€æœ‰åŠŸèƒ½
2. æ€§èƒ½æµ‹è¯•å’Œä¼˜åŒ–
3. ä»£ç å®¡æŸ¥å’Œé‡æ„

## ğŸ“ˆ é¢„æœŸæ”¶ç›Š

1. **ä»£ç å¯ç»´æŠ¤æ€§æå‡**ï¼šæ¯ä¸ªæ¨¡å—èŒè´£æ¸…æ™°ï¼Œæ˜“äºç†è§£å’Œä¿®æ”¹
2. **æ‰©å±•æ€§æå‡**ï¼šæ–°å¢åŠŸèƒ½åªéœ€æ·»åŠ æ–°çš„ handlerï¼Œæ— éœ€ä¿®æ”¹ç°æœ‰ä»£ç 
3. **æ€§èƒ½æå‡**ï¼šå‡å°‘ä¸­é—´å±‚è°ƒç”¨ï¼Œç›´æ¥è°ƒç”¨å¯¹åº”æ¨¡å—
4. **æµ‹è¯•å‹å¥½**ï¼šæ¯ä¸ªæ¨¡å—å¯ä»¥ç‹¬ç«‹æµ‹è¯•

## ğŸ”„ å›æ»šæ–¹æ¡ˆ

å¦‚æœåœ¨é‡æ„è¿‡ç¨‹ä¸­å‘ç°é—®é¢˜ï¼Œå¯ä»¥ï¼š

1. **é˜¶æ®µå›æ»š**ï¼šåªå›æ»šæœ‰é—®é¢˜çš„éƒ¨åˆ†ï¼Œä¿ç•™å·²å®Œæˆçš„å·¥ä½œ
2. **å®Œå…¨å›æ»š**ï¼šæ¢å¤æ‰€æœ‰æ–‡ä»¶åˆ°é‡æ„å‰çš„çŠ¶æ€
3. **æ¸è¿›å¼ä¿®å¤**ï¼šé€ä¸ªä¿®å¤é—®é¢˜ï¼Œè€Œä¸æ˜¯ä¸€æ¬¡æ€§å›æ»š

---

**æ–‡æ¡£åˆ›å»ºæ—¥æœŸ**ï¼š2024å¹´  
**é‡æ„çŠ¶æ€**ï¼šè§„åˆ’é˜¶æ®µ  
**é¢„è®¡å·¥ä½œé‡**ï¼š2-3 ä¸ªå·¥ä½œæ—¥

