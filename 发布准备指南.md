# Lumina 首次发布准备指南

## 🎯 当前状态

✅ **已完成：**
- Linter 检查通过
- LICENSE 文件已添加
- 发布检查清单已创建
- 版本号：v1.0.10（需要改为 v1.0.0 进行首次发布）

## 📋 发布步骤（按顺序执行）

### 1️⃣ 修改版本号到 v1.0.0

```bash
# 编辑 package.json，将第 3 行的 version 改为 "1.0.0"
# 或使用脚本（会触发 git commit）
npm run version:major
```

**手动方法：**
```bash
sed -i '' 's/"version": "1.0.10"/"version": "1.0.0"/' package.json
```

### 2️⃣ 清理并构建

```bash
# 清理旧构建
rm -rf dist dist-electron

# 构建 macOS 版本
npm run build:mac

# 构建完成后，验证文件
ls -lh dist/*.dmg
ls -lh dist/*.zip
```

### 3️⃣ 测试构建结果

```bash
# 打开应用测试
open dist/mac-arm64/Lumina.app

# 或测试 DMG
open dist/Lumina-1.0.0-arm64.dmg
```

**测试要点：**
- [*] 应用可以正常启动
- [*] 搜索功能正常工作
- [*] 设置可以保存和应用
- [*] 快捷键 Shift+Space 正常工作

### 4️⃣ 提交到 Git

```bash
# 查看所有变更
git status

# 添加所有文件
git add .

# 提交
git commit -m "feat: Release v1.0.0 - First stable release"

# 创建标签
git tag -a v1.0.0 -m "Release version 1.0.0"

# 推送到远程
git push origin master
git push origin v1.0.0
```

### 5️⃣ 在 GitHub 创建 Release

1. 访问你的 GitHub 仓库
2. 点击 "Releases" → "Draft a new release"
3. 填写以下信息：
   - **Choose a tag**: v1.0.0
   - **Release title**: Lumina v1.0.0 - First Stable Release 🎉
   - **Description**: 复制下方模板
4. 上传文件：
   - 拖拽 `dist/Lumina-1.0.0-arm64.dmg` 到附件区域
   - （可选）同时上传 `dist/Lumina-1.0.0-arm64-mac.zip`
5. 勾选 "This is a pre-release"（如果还在测试）
6. 点击 "Publish release"

---

## 📝 GitHub Release 说明模板

```markdown
# Lumina v1.0.0 - First Stable Release 🎉

首个稳定版本发布！Lumina 是一个跨平台的搜索启动器，灵感来自 macOS Spotlight 和 Alfred。

## ✨ 主要功能

### 核心搜索
- 🔍 **应用搜索**：快速查找和启动已安装的应用
- 📁 **文件搜索**：按文件名和路径搜索文件
- 🌐 **网页搜索**：支持多个搜索引擎（百度、谷歌、必应等）
- 📚 **书签搜索**：自动加载并搜索浏览器书签
- 🧮 **计算器**：实时计算数学表达式
- ⚡ **命令执行**：快速执行系统命令

### 用户体验
- ⌨️ **全局快捷键**：`Shift + Space` 快速打开搜索
- 🪟 **智能窗口**：根据搜索结果自动调整大小
- 🎯 **拼音搜索**：支持中文应用拼音搜索
- 💾 **缓存系统**：快速启动，秒开搜索
- 🖥️ **系统托盘**：常驻后台，不占用任务栏

### 设置选项
- ⚙️ 自定义搜索引擎
- 🌐 设置默认浏览器
- 📂 配置文件搜索范围
- 🚀 开机自启动
- 📥 启动时最小化到托盘
- ⚡ 快速启动模式

## 🎯 系统要求

- **macOS**: 10.15 (Catalina) 或更高版本
- **Windows**: 10 或更高版本（测试中）
- **Linux**: 主流发行版（测试中）

## 📥 下载

### macOS

- **DMG 安装包**：推荐，拖拽即安装
- **ZIP 压缩包**：便携版本

### 安装方法

1. 下载 DMG 文件
2. 双击打开 DMG
3. 将 Lumina.app 拖拽到 Applications 文件夹
4. 在 Launchpad 或 Spotlight 中找到 Lumina 并打开

⚠️ **首次安装**：可能需要在"系统偏好设置 > 安全性与隐私"中允许打开未签名的应用。

## 🔧 快速开始

1. **首次启动**：会自动索引应用、文件、书签（可能需要几分钟）
2. **打开搜索**：按下 `Shift + Space` 快捷键
3. **搜索并执行**：输入关键词搜索，使用 ↑↓ 键选择，Enter 键执行
4. **个性化配置**：访问设置页面进行自定义

## 📚 文档

- [快速开始](docs/快速开始.md)
- [技术架构](docs/技术架构设计.md)
- [开发指南](docs/开发计划.md)
- [启动设置说明](docs/启动设置使用说明.md)

## 🐛 已知问题

- Safari 书签需要手动授予"完全磁盘访问"权限（macOS 系统限制）

## 💡 功能亮点

- **跨平台支持**：Windows、macOS、Linux 全覆盖
- **高性能**：使用系统原生搜索 API，快速响应
- **低资源占用**：智能缓存和懒加载，内存占用小
- **开源免费**：MIT License，自由使用和修改

## 🙏 致谢

感谢所有测试和使用 Lumina 的用户！这是一个开源项目，欢迎贡献代码和反馈。

## 📄 许可证

MIT License - 详见 [LICENSE](LICENSE) 文件

---

## 🚀 下一步计划

我们正在开发以下功能：
- 🔄 自动更新机制
- 🎨 自定义主题和外观
- 🔌 插件系统
- 💬 AI 对话集成
- 📊 使用统计和分析

欢迎提交 Issue 和 Pull Request！🎉
```

---

## 🎯 快速命令汇总

```bash
# === 1. 修改版本号 ===
sed -i '' 's/"version": "1.0.10"/"version": "1.0.0"/' package.json

# === 2. 清理并构建 ===
rm -rf dist dist-electron && npm run build:mac

# === 3. 测试 ===
open dist/mac-arm64/Lumina.app

# === 4. Git 操作 ===
git add .
git commit -m "feat: Release v1.0.0 - First stable release"
git tag -a v1.0.0 -m "Release version 1.0.0"
git push origin master
git push origin v1.0.0

# === 5. 验证 ===
ls -lh dist/*.dmg
```

---

## ⚠️ 注意事项

1. **版本号**：
   - 首次发布使用 v1.0.0
   - 后续修复使用 v1.0.1, v1.0.2...
   - 新功能使用 v1.1.0

2. **文件大小**：
   - DMG 文件通常在 150-200MB（包含 Electron 框架）
   - 这是正常的

3. **代码签名**：
   - 首次发布没有代码签名
   - 用户需要手动允许打开
   - 未来可以考虑购买 Apple 开发者证书（$99/年）

4. **自动更新**：
   - 首次版本暂不支持
   - 需要手动检查更新
   - 后续版本可以添加更新机制

5. **Git 提交前**：
   - 确保没有未提交的代码
   - 确保 README 中的链接正确
   - 确保所有文档路径正确

---

## ✅ 发布后检查

发布成功后，验证：
- [ ] GitHub Release 页面可以正常访问
- [ ] DMG 文件可以正常下载
- [ ] 下载的应用可以正常安装和运行
- [ ] 所有功能正常工作
- [ ] 准备收集用户反馈

---

## 🎉 完成！

恭喜！Lumina v1.0.0 已经正式发布！

接下来你可以：
- 分享到社交媒体
- 发布到 Product Hunt、Hacker News 等平台
- 收集用户反馈
- 计划下一个版本的功能

